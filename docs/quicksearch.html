<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"analytics.js.html":{"id":"analytics.js.html","title":"Source: analytics.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: analytics.js /** @module AnalyticsController */ const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('analytics'); const moment = require('moment'); LOGGER.level = 'info'; /** * Route for analyzing CPU Utilizaton of EC2 instances by id. * @param {object} req - The request. * @param {object} res - The response. * @param {req.query} region - The region of instance. * @param {req.query} id - The id of instance. * @returns {object} - CPU Utilization CloudWatch metrics of instance. */ module.exports.analyzeById = (req, res) =&gt; { const CLOUD_WATCH = new AWS.CloudWatch({ apiVersion: '2010-08-01', region: req.query.region, }); // CPU Utilization for last 2 running hours const params = { EndTime: new Date(), MetricName: 'CPUUtilization', Namespace: 'AWS/EC2', Period: 120, StartTime: new Date(moment().subtract(2, 'hours')), Dimensions: [{ Name: 'InstanceId', Value: req.query.id, }], Statistics: [ 'Average', ], Unit: 'Percent', }; CLOUD_WATCH.getMetricStatistics(params, (err, data) =&gt; { if (err) LOGGER.error(err); else res.json(data); }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"auth.js.html":{"id":"auth.js.html","title":"Source: auth.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: auth.js /** @module AuthenticationController */ const passport = require('passport'); const User = require('../models/users'); /** * Route for registering new user. * @param {object} req - The request. * @param {object} res - The response. * @param {req.body} user - The information of the new user. * @returns {object} - Message that new user is created. */ module.exports.register = (req, res) =&gt; { const user = new User.Model(); user.username = req.body.username; user.email = req.body.email; user.firstName = req.body.firstName; user.lastName = req.body.lastName; user.setPassword(req.body.password); user.save((err) =&gt; { if (err) res.json(err); res.status(200).json(`user ${user.username} registered`); }); }; /** * Route for logging in user using Passport. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - JWT token. */ module.exports.login = (req, res) =&gt; { passport.authenticate('local', (err, user, info) =&gt; { if (err) { res.status(404).json(err); return; } // If a user is found if (user) { res.status(200); res.json({ token: user.generateJwt(), }); } else { // If user is not found res.status(401).json(info); } })(req, res); }; /** * Route for authorizing profile viewing. * @param {object} req - The request. * @param {object} res - The response. * @param {req.payload} _id - The id of the user. * @returns {object} - Information of the user. */ module.exports.profileRead = (req, res) =&gt; { if (!req.payload._id) { res.status(401).json({ message: 'UnauthorizedError: private profile', }); } else { User.Model.findById(req.payload._id).exec((err, user) =&gt; { if (err) res.json(err); else res.status(200).json(user); }); } }; /** * Route for checking if username is taken. * @param {object} req - The request. * @param {object} res - The response. * @param {req.params} id - The username attempting to be registerd. * @returns {boolean} - Whether username is found or not. */ module.exports.validateUsername = (req, res) =&gt; { const jsonData = { found: false, }; User.Model.findOne({ username: req.params.id, }, (err, customer) =&gt; { if (!customer) jsonData.found = false; else jsonData.found = true; res.json(jsonData); }); }; /** * Route for checking if email is taken. * @param {object} req - The request. * @param {object} res - The response. * @param {req.params} id - The email attempting to be registerd. * @returns {boolean} - Whether email is found or not. */ module.exports.validateEmail = (req, res) =&gt; { // Retrun data if email is found const jsonData = { found: false, }; // Customer database query on passed email User.Model.findOne({ email: req.params.id, }, (err, customer) =&gt; { if (!customer) jsonData.found = false; else jsonData.found = true; res.json(jsonData); }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"cluster.js.html":{"id":"cluster.js.html","title":"Source: cluster.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: cluster.js /** @module ClusterController */ /* eslint no-param-reassign:0, no-unused-vars: 0, consistent-return:0 */ const ASYNC = require('async'); const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('cluster'); const moment = require('moment'); const EMAIL_CONTROLLER = require('./email'); const JOB_CONTROLLER = require('./job'); const JANITOR_CONTROLLER = require('./janitor'); const Cluster = require('../models/cluster'); const UTILS = require('../config/utils'); LOGGER.level = 'info'; /** * Marks cluster for destruction, schedules destruction, and notifies owner via email. * @param {object} cluster - The cluster to be marked. */ const markCluster = (cluster) =&gt; { cluster.marked = true; LOGGER.info(`${cluster.context} marked`); JOB_CONTROLLER.scheduleJob(cluster.context, cluster.startedBy); EMAIL_CONTROLLER.emailStartedBy(cluster.context, cluster.startedBy, 'marked for destruction'); cluster.jobIndex = JOB_CONTROLLER.jobs.length - 1; cluster.save(); }; /** * Finds and marks clusters that are running past the age threshold * @param {array} ids - Ids parsed from email. module.exports.markClusters = () =&gt; { LOGGER.info('Janitor running'); CLUSTER.find({ marked: false, monitored: true, }, (err, clusters) =&gt; { ASYNC.forEachOf(clusters, (cluster) =&gt; { const threshold = new Date(moment(cluster.launchTime).add(1, 'minute')); if (new Date() &gt; threshold) { markCluster(cluster); } }); }); }; */ /** * Finds and marks cluster from ids parsed from email. * @param {array} ids - Ids parsed from email. */ module.exports.markClustersFromEmail = (ids) =&gt; { Cluster.Model.find({ marked: false, }, (err, clusters) =&gt; { ASYNC.forEachOf(clusters, (cluster) =&gt; { ASYNC.forEachOf(ids, (id) =&gt; { if (cluster.resourceIds.includes(id)) { markCluster(cluster); } }); }); }); }; /** * Route for getting all clusters. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All clusters. */ module.exports.getClusters = (req, res) =&gt; { Cluster.Model.find({}, (err, clusters) =&gt; { if (err) res.json(err); else res.json(clusters); }); }; /** * Route for removing monitor tag from cluster after it has been opted out. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - Message that monitor has been removed. */ module.exports.removeClusterMonitor = (req, res) =&gt; { Cluster.Model.findOne({ _id: req.params.id, }, (err, cluster) =&gt; { if (err) res.json(err); else { cluster.monitored = false; cluster.save(); res.json('Monitor removed'); } }); }; /** * Adds monitor tag from cluster after it has been opted in. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - Message that monitor has been added. */ module.exports.addClusterMonitor = (req, res) =&gt; { Cluster.Model.findOne({ _id: req.params.id, }, (err, cluster) =&gt; { if (err) res.json(err); else { cluster.monitored = true; cluster.save(); res.json('Monitor added'); } }); }; /** * Removes clusters no longer in AWS from DB. */ module.exports.cleanClusterDB = () =&gt; { LOGGER.info('Cleaning up cluster DB'); Cluster.Model.find({}, (err, clusters) =&gt; { if (err) LOGGER.error(err); else { ASYNC.forEachOf(clusters, (cluster) =&gt; { let isFound = false; const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: cluster.region, }); EC2.describeTags({}, (tagerr, data) =&gt; { if (tagerr) LOGGER.error(tagerr); else { ASYNC.forEachOf(data.Tags, (tag, i, callback) =&gt; { if (tag.Value === cluster.context) isFound = true; callback(); }, (looperr) =&gt; { if (!isFound) { Cluster.Model.findByIdAndRemove({ _id: cluster._id, }, (founderr) =&gt; { if (founderr) LOGGER.error(founderr); else LOGGER.info(`${cluster.context} removed from db`); }); } }); } }); }); } }); }; /** * Adds clusters in AWS that are not in the DB. */ module.exports.setClusterDB = () =&gt; { LOGGER.info('Setting up cluster DB'); const namesPromise = new Promise((resolve, reject) =&gt; { const cluster = []; ASYNC.forEachOf(UTILS.regions, (awsRegion, i, regionCallback) =&gt; { const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: awsRegion, }); EC2.describeInstances((describeErr, data) =&gt; { if (describeErr) LOGGER.error(describeErr); else if (data.Reservations.length !== 0) { ASYNC.forEachOf(data.Reservations, (reservation, index) =&gt; { ASYNC.forEachOf(reservation.Instances, (describedInstance) =&gt; { if (describedInstance.Tags.length) { const temp = { name: null, startedBy: null, region: null, launchTime: null, }; ASYNC.forEachOf(describedInstance.Tags, (tag, j, tagCallback) =&gt; { if (tag.Key === 'Context' &amp;&amp; cluster.indexOf(tag.Key) &lt; 0) { temp.name = tag.Value; temp.region = describedInstance.Placement.AvailabilityZone.slice(0, -1); temp.launchTime = describedInstance.LaunchTime; } else if (tag.Key === 'startedBy') { temp.startedBy = tag.Value; } tagCallback(); }, (tagErr) =&gt; { if (temp.name !== null) { cluster.push(temp); } }); } }); }); } regionCallback(); }); }, (regionErr) =&gt; { resolve(cluster); }); }); namesPromise.then((clusterData) =&gt; { ASYNC.forEachOf(clusterData, (clusterDatum) =&gt; { Cluster.Model.findOne({ context: clusterDatum.name, }, (err, cluster) =&gt; { const contextDataPromise = new Promise((resolve, reject) =&gt; { if (cluster === null) { const contextData = { monkeyPort: null, monitored: false, marked: false, destroyed: false, destructionDate: null, jobIndex: null, resourceIds: [], context: clusterDatum.name, startedBy: clusterDatum.startedBy, region: clusterDatum.region, launchTime: clusterDatum.launchTime, }; if (JANITOR_CONTROLLER.isJanitorRunning()) { Cluster.Model.update({}, { monkeyPort: 8080, monitored: true, }, { multi: true, }, (clustererr) =&gt; { if (err) LOGGER.err(err); else LOGGER.info('updated cluster'); }); } const params = { Filters: [{ Name: 'tag-value', Values: [clusterDatum.name], }], }; const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: clusterDatum.region, }); EC2.describeInstances(params, (ec2err, ec2data) =&gt; { if (ec2err) LOGGER.error(ec2err); else if (ec2data.Reservations.length) { ec2data.Reservations.forEach((reservation) =&gt; { reservation.Instances.forEach((instance) =&gt; { contextData.resourceIds.push(instance.InstanceId); }); }); resolve(contextData); } }); } else { reject(Error('Cluster exists')); } }); contextDataPromise.then((contextData) =&gt; { const newCluster = new Cluster.Model(); newCluster.context = contextData.context; newCluster.startedBy = contextData.startedBy; newCluster.monitored = contextData.monitored; newCluster.marked = contextData.marked; newCluster.destroyed = contextData.destroyed; newCluster.destructionDate = contextData.destructionDate; newCluster.jobIndex = contextData.jobIndex; newCluster.resourceIds = contextData.resourceIds; newCluster.monkeyPort = contextData.monkeyPort; newCluster.region = contextData.region; newCluster.launchTime = contextData.launchTime; newCluster.save(); LOGGER.info(`${contextData.context} cluster added to db`); }).catch(() =&gt; {}); }); }); }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"ec2.js.html":{"id":"ec2.js.html","title":"Source: ec2.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: ec2.js /** @module EC2Controller */ /* eslint consistent-return:0 */ const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('EC2'); const ASYNC = require('async'); const UTILS = require('../config/utils'); LOGGER.level = 'info'; /** * Route for describing EC2 instances. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All EC2 data. */ module.exports.describe = (req, res) =&gt; { const ec2Data = []; ASYNC.forEachOf(UTILS.regions, (awsRegion, i, callback) =&gt; { const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: awsRegion, }); EC2.describeInstances((err, data) =&gt; { if (err) res.json(err); else if (data.Reservations.length) { ec2Data.push(...data.Reservations); } callback(); }); }, () =&gt; { if (ec2Data.length) res.json(ec2Data); else res.json('No ec2 data'); }); }; /** * Route for terminating EC2 instances by id. * @param {object} req - The request. * @param {object} res - The response. * @param {req.query} region - The region of instance * @param {req.query} id - The id of instance. * @returns {object} - Message that instance is terminated. */ module.exports.terminateById = (req, res) =&gt; { const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: req.query.region, }); const InstanceValue = req.query.id; const instanceIds = []; instanceIds.push(InstanceValue); const params = { InstanceIds: instanceIds, DryRun: false, }; // Create the instance EC2.terminateInstances(params, (err) =&gt; { if (err) res.json(err); else { LOGGER.info(`${InstanceValue} terminated`); res.json(`${InstanceValue} terminated`); } }); }; /** * Route for getting cluster data by its Context tag. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - Cluster data matching Context tag. */ module.exports.getContextById = (req, res) =&gt; { const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: req.query.region, }); const params = { Filters: [{ Name: 'tag-value', Values: [ req.query.id, ], }], }; EC2.describeInstances(params, (err, data) =&gt; { if (err) res.json(err); else if (data.Reservations.length) { res.json(data.Reservations); } }); }; /** * Route for getting all cluster names. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All cluster names. */ module.exports.getClusterNames = (req, res) =&gt; { const context = []; const params = { Filters: [{ Name: 'key', Values: ['Context'], }], }; ASYNC.forEachOf(UTILS.regions, (awsRegion, i, callback) =&gt; { const EC2 = new AWS.EC2({ apiVersion: '2016-11-15', region: awsRegion, }); EC2.describeTags(params, (err, data) =&gt; { if (err) res.json(err); else { ASYNC.forEachOf(data.Tags, (tag) =&gt; { if (tag.Key === 'Context' &amp;&amp; context.indexOf(tag.Key) &lt; 0) { context.push({ name: tag.Value, region: awsRegion, }); } }); } callback(); }); }, (regionErr) =&gt; { if (regionErr) LOGGER.error(regionErr); else res.json(context); }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"efs.js.html":{"id":"efs.js.html","title":"Source: efs.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: efs.js /** @module EFSController */ /* eslint no-param-reassign:0 */ const ASYNC = require('async'); const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('EFS'); const UTILS = require('../config/utils'); LOGGER.level = 'info'; /** * Route for describing EFS file systems. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All EFS data. */ module.exports.describe = (req, res) =&gt; { const efsData = []; ASYNC.forEachOf(UTILS.regions, (awsRegion, i, callback) =&gt; { const EFS = new AWS.EFS({ apiVersion: '2015-02-01', region: awsRegion, }); EFS.describeFileSystems({}, (err, data) =&gt; { if (err) LOGGER.error(err); else if (data.FileSystems.length) { ASYNC.forEachOf(data.FileSystems, (fileSystem, j, tagCallback) =&gt; { EFS.describeTags({ FileSystemId: fileSystem.FileSystemId, }, (tagerr, tagdata) =&gt; { if (err) LOGGER.error(err); else if (tagdata !== null) { fileSystem.Tags = tagdata.Tags; efsData.push(fileSystem); } tagCallback(); }); }, () =&gt; { callback(); }); } else { callback(); } }); }, () =&gt; { if (efsData.length) res.json(efsData); else res.json('No efs data'); }); }; /** * Route for terminating EFS file systems by id. * @param {object} req - The request. * @param {object} res - The response. * @param {req.query} region - The region of instance * @param {req.query} id - The id of instance. * @returns {object} - Message that file system is terminated. */ module.exports.terminateById = (req, res) =&gt; { const EFS = new AWS.EFS({ apiVersion: '2015-02-01', region: req.query.region, }); const params = { FileSystemId: req.query.id, }; EFS.deleteFileSystem(params, (err) =&gt; { if (err) res.json(err); else { LOGGER.info(`${req.query.id} terminated`); res.json(`${req.query.id} terminated`); } }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"email.js.html":{"id":"email.js.html","title":"Source: email.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: email.js /** @module EmailController */ /* eslint no-unused-vars: 0 */ const htmlToText = require('html-to-text'); const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('email'); const MailListener = require('mail-listener2'); const CLUSTER_CONTROLLER = require('./cluster'); const mailListener = new MailListener({ username: process.env.IMAP_EMAIL, password: process.env.IMAP_PASSWORD, host: 'imap.gmail.com', port: 993, tls: true, connTimeout: 10000, authTimeout: 5000, tlsOptions: { rejectUnauthorized: false, }, mailbox: 'INBOX', searchFilter: ['UNSEEN'], markSeen: true, fetchUnreadOnStart: true, }); const SES = new AWS.SES({ apiVersion: '2010-12-01', region: 'us-east-1', }); LOGGER.level = 'info'; /** * Opens email inbox. * @param {function} callback - The callback after inbox is opened. */ function openInbox(callback) { mailListener.imap.openBox('INBOX', true, callback); } /** * Starts email listener. */ module.exports.startMonitor = () =&gt; { mailListener.start(); }; /** * Sends email to resource owner. * @param {string} clusterName - The name of the cluster. * @param {string} startedBy - The initials of the resource owner. * @param {string} message - The message for the resource owner. */ module.exports.emailStartedBy = (clusterName, startedBy, message) =&gt; { LOGGER.info(`Building email for ${startedBy}`); const params = { Destination: { BccAddresses: [], CcAddresses: [], ToAddresses: [ 'rdcaldwell5705@eagle.fgcu.edu', ], }, Message: { Body: { Html: { Data: `Hello ${startedBy}, &lt;br&gt;&lt;br&gt; ${clusterName} has been ${message}. &lt;br&gt;&lt;br&gt; CleanCloud`, Charset: 'UTF-8', }, Text: { Data: `Hello ${startedBy}, ${clusterName} has been ${message}.`, Charset: 'UTF-8', }, }, Subject: { Data: `${clusterName} has been ${message} by CleanCloud`, Charset: 'UTF-8', }, }, Source: 'cloudianapp@gmail.com', }; SES.sendEmail(params, (err, data) =&gt; { if (err) LOGGER.error(err); else LOGGER.info(`Email sent to ${startedBy}`); }); }; /** * Event when new email is received. * Parses email for EC2 instance ids from Simian Army. */ mailListener.on('mail', () =&gt; { LOGGER.info('Parsing new email'); openInbox((err, box) =&gt; { if (err) throw err; const f = mailListener.imap.seq.fetch(`${box.messages.total}:*`, { bodies: ['TEXT'], }); f.on('message', (msg) =&gt; { msg.on('body', (stream) =&gt; { let buffer = ''; stream.on('data', (chunk) =&gt; { buffer += chunk.toString('utf8'); }); stream.once('end', () =&gt; { const ids = htmlToText.fromString(buffer.toString()).trim().split(','); CLUSTER_CONTROLLER.markClustersFromEmail(ids); }); }); }); }); }); /** * Event when email listener is connected. */ mailListener.on('server:connected', () =&gt; { LOGGER.info('Monitor listening'); }); /** * Event when email listener is disconnected. */ mailListener.on('server:disconnected', () =&gt; { LOGGER.info('Monitor disconnected'); }); /** * Event when there is an error with the email listener. */ mailListener.on('error', (err) =&gt; { LOGGER.error(err); }); × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"janitor.js.html":{"id":"janitor.js.html","title":"Source: janitor.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: janitor.js /** @module JanitorController */ /* eslint no-param-reassign:0 */ const run = require('docker-run'); const LOGGER = require('log4js').getLogger('janitor'); const CLUSTER_CONTROLLER = require('./cluster'); const Janitor = require('../models/janitor'); const Cluster = require('../models/cluster'); let dockerJanitor; LOGGER.level = 'info'; /** * Creates new Janitor instance in DB. * @param {object} janitorConfig - The Janitor configuration settings. */ function createJanitor(janitorConfig) { const janitor = new Janitor.Model(); janitor.defaultEmail = janitorConfig.defaultEmail; janitor.summaryEmail = janitorConfig.summaryEmail; janitor.sourceEmail = janitorConfig.sourceEmail; janitor.isMonkeyTime = janitorConfig.isMonkeyTime; janitor.threshold = janitorConfig.threshold; janitor.frequency = janitorConfig.frequency; janitor.frequencyUnit = janitorConfig.frequencyUnit; janitor.save(); } /** * Route for running the Simian Army Janitor Monkey Docker image. * @param {object} req - The request. * @param {object} res - The response. * @param {req.body} janitorConfig - The Janitor configuration settings. * @returns {object} - Message that Janitor is created. */ module.exports.run = (req, res) =&gt; { CLUSTER_CONTROLLER.setClusterDB(); const janitorConfig = { ports: {}, env: { SIMIANARMY_CLIENT_AWS_ACCOUNTKEY: `${process.env.AWS_ACCESS_KEY_ID}`, SIMIANARMY_CLIENT_AWS_SECRETKEY: `${process.env.AWS_SECRET_ACCESS_KEY}`, SIMIANARMY_CALENDAR_ISMONKEYTIME: req.body.isMonkeyTime, SIMIANARMY_JANITOR_NOTIFICATION_DEFAULTEMAIL: req.body.defaultEmail, SIMIANARMY_JANITOR_SUMMARYEMAIL_TO: req.body.summaryEmail, SIMIANARMY_JANITOR_NOTIFICATION_SOURCEEMAIL: req.body.sourceEmail, SIMIANARMY_JANITOR_RULE_ORPHANEDINSTANCERULE_INSTANCEAGETHRESHOLD: req.body.threshold, SIMIANARMY_SCHEDULER_FREQUENCY: req.body.frequency, SIMIANARMY_SCHEDULER_FREQUENCYUNIT: req.body.frequencyUnit, }, }; janitorConfig.ports[8080] = 8080; Cluster.Model.update({}, { monkeyPort: 8080, monitored: true, }, { multi: true, }, (err) =&gt; { if (err) LOGGER.err(err); else LOGGER.info('updated cluster'); }); dockerJanitor = run('rdcaldwell/janitor:latest', janitorConfig); process.stdin.pipe(dockerJanitor.stdin); dockerJanitor.stdout.pipe(process.stdout); dockerJanitor.stderr.pipe(process.stderr); createJanitor(req.body); LOGGER.info('Janitor created'); res.json('Janitor created'); }; /** * Route for destroying Janitor by id. * @param {object} req - The request. * @param {object} res - The response. * @param {req.params} id - The id of Janitor. * @returns {object} - Message that Janitor is destroyed. */ module.exports.destroyById = (req, res) =&gt; { Janitor.Model.find({ _id: req.params.id, }, (findErr, janitor) =&gt; { if (findErr) res.json(findErr); else { dockerJanitor.destroy(); dockerJanitor = undefined; Cluster.Model.update({}, { monkeyPort: null, monitored: false, marked: false, }, { multi: true, }, (err) =&gt; { if (err) LOGGER.err(err); else LOGGER.info('updated cluster'); }); Janitor.Model.remove({ _id: janitor[0]._id, }, (removeErr) =&gt; { if (removeErr) LOGGER.error(removeErr); else LOGGER.info('Janitor removed'); }); res.json('Janitor removed'); } }); }; /** * Route for getting all Janitors. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All Janitors. */ module.exports.getJanitors = (req, res) =&gt; { Janitor.Model.find({}, (err, janitors) =&gt; { if (err) res.json(err); else res.json(janitors); }); }; /** * Gets state of the Janitor. * @returns {boolean} - Janitor running state. */ module.exports.isJanitorRunning = () =&gt; dockerJanitor !== undefined; /** * Route for getting state of the Janitor. * @param {object} req - The request. * @param {object} res - The response. * @returns {boolean} - Janitor running state. */ module.exports.isJanitorRunningRoute = (req, res) =&gt; { res.json(dockerJanitor !== undefined); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"jenkins.js.html":{"id":"jenkins.js.html","title":"Source: jenkins.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: jenkins.js /** @module JenkinsController */ /* eslint no-unused-vars: 0, no-else-return:0, no-param-reassign:0 */ const LOGGER = require('log4js').getLogger('jenkins'); const Cluster = require('../models/cluster'); const JENKINS = require('jenkins')({ baseUrl: `http://${process.env.JENKINS_USERNAME}:${process.env.JENKINS_API_TOKEN}@localhost:8888`, crumbIssuer: true, }); LOGGER.level = 'info'; /** * Triggers Jenkins Destroy_Cluster job using cluster name. * @param {string} name - The name of the cluster. * @returns {boolean} - Success of cluster destruction. */ const destroyByName = (name) =&gt; { LOGGER.info(`destroying ${name}`); JENKINS.job.build({ name: 'Destroy_Cluster', parameters: { cluster: name, }, }, (jenkinserr) =&gt; { if (jenkinserr) { LOGGER.error(jenkinserr); return false; } else { LOGGER.info(`${name} cluster destroyed using Jenkins`); Cluster.Model.findOne({ context: name, }, (clustererr, cluster) =&gt; { cluster.destroyed = true; cluster.save(); }); return true; } }); }; /** * Route for triggering Jenkins Destroy_Cluster job. * @param {object} req - The request. * @param {object} res - The response. * @param {req.params} id - The cluster name. * @returns {object} - Message that cluster is destroyed using Jenkins. */ module.exports.destroy = (req, res) =&gt; { const isDestroyed = destroyByName(req.params.id); if (isDestroyed) res.json(`${req.params.id} cluster destroyed using Jenkins`); }; module.exports.destroyByName = destroyByName; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"job.js.html":{"id":"job.js.html","title":"Source: job.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: job.js /** @module JobsController */ /* eslint no-param-reassign:0, no-unused-vars: 0, consistent-return:0 */ const schedule = require('node-schedule'); const LOGGER = require('log4js').getLogger('job'); const moment = require('moment'); const ASYNC = require('async'); const JENKINS_CONTROLLER = require('./jenkins'); const EMAIL_CONTROLLER = require('./email'); const Cluster = require('../models/cluster'); const jobs = []; LOGGER.level = 'info'; /** * Route for canceling scheduled job. * @param {object} req - The request. * @param {object} res - The response. * @param {req.params} id - The cluster name. * @returns {object} - Message that job is canceled. */ module.exports.cancelJob = (req, res) =&gt; { Cluster.Model.findOne({ context: req.params.id, }, (err, cluster) =&gt; { jobs[cluster.jobIndex].cancel(); cluster.marked = false; cluster.jobIndex = null; cluster.destructionDate = null; cluster.save(); LOGGER.info(`${cluster.context} job canceled`); res.json(`${cluster.context} job canceled`); }); }; /** * Schedules job for cluster destruction and notifying resource owner. * @param {string} name - The name of the cluster. * @param {string} startedBy - The initials of the resource owner. */ module.exports.scheduleJob = (name, startedBy) =&gt; { const today = new Date(); const destructionTime = new Date(moment().add(2, 'minutes')); Cluster.Model.findOne({ context: name, }, (err, cluster) =&gt; { cluster.destructionDate = destructionTime; cluster.save(); }); jobs.push(schedule.scheduleJob(destructionTime, () =&gt; { JENKINS_CONTROLLER.destroyByName(name); EMAIL_CONTROLLER.emailStartedBy(name, startedBy, 'destroyed'); })); LOGGER.info(`Job scheduled for ${destructionTime}`); }; /** * Reschedules jobs in the event the server goes down. */ module.exports.setJobs = () =&gt; { LOGGER.info('Setting up scheduled jobs'); Cluster.Model.find({ destructionDate: { $gte: new Date(), }, }, (err, clusters) =&gt; { ASYNC.forEachOf(clusters, (cluster) =&gt; { jobs.push(schedule.scheduleJob(cluster.destructionDate, () =&gt; { JENKINS_CONTROLLER.destroyByName(cluster.context); EMAIL_CONTROLLER.emailStartedBy(cluster.context, cluster.startedBy, 'destroyed'); })); LOGGER.info(`Job rescheduled for ${cluster.destructionDate}`); }); }); }; module.exports.jobs = jobs; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"price.js.html":{"id":"price.js.html","title":"Source: price.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: price.js /** @module PriceController */ /* eslint no-param-reassign:0 */ const Ec2Price = require('../models/ec2_prices'); const RdsPrice = require('../models/rds_prices'); /** * Gets region abbreviation of resource. * @param {string} region - The region of the instance. * @returns - Region abbreviation of resource. */ const getRegion = (region) =&gt; { if (region.startsWith('us')) { region = 'US'; } else { region = 'IN'; } return region; }; /** * Route for getting the price of an EC2 instance. * @param {object} req - The request. * @param {object} res - The response. * @param {req.body} region - The region of the instance. * @param {req.body} type - The type or class of the instance. * @returns {number} - Hourly price of the instance. */ module.exports.getEc2Price = (req, res) =&gt; { const region = getRegion(req.body.region); Ec2Price.Model.findOne({ Region: region, Type: req.body.type, }, (err, doc) =&gt; { res.json(doc.Price); }); }; /** * Route for getting the price of an RDS instance. * @param {object} req - The request. * @param {object} res - The response. * @param {req.body} region - The region of the instance. * @param {req.body} type - The type or class of the instance. * @param {req.body} DB - The database engine of the instance. * @returns {number} - Hourly price of the instance. */ module.exports.getRdsPrice = (req, res) =&gt; { const region = getRegion(req.body.region); RdsPrice.Model.findOne({ Region: region, Type: req.body.type, DB: req.body.DB, }, (err, doc) =&gt; { res.json(doc.Price); }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"rds.js.html":{"id":"rds.js.html","title":"Source: rds.js","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Source: rds.js /** @module RDSController */ /* eslint no-param-reassign:0 */ const AWS = require('aws-sdk'); const LOGGER = require('log4js').getLogger('RDS'); const ASYNC = require('async'); const UTILS = require('../config/utils'); LOGGER.level = 'info'; /** * Route for describing RDS databases. * @param {object} req - The request. * @param {object} res - The response. * @returns {object} - All RDS data. */ module.exports.describe = (req, res) =&gt; { const rdsData = []; ASYNC.forEachOf(UTILS.regions, (awsRegion, i, callback) =&gt; { const RDS = new AWS.RDS({ apiVersion: '2014-10-31', region: awsRegion, }); RDS.describeDBInstances({}, (err, data) =&gt; { if (err) res.json(err); else if (data.DBInstances.length) { ASYNC.forEachOf(data.DBInstances, (dbInstance, j, tagCallback) =&gt; { RDS.listTagsForResource({ ResourceName: dbInstance.DBInstanceArn, }, (tagerr, tagdata) =&gt; { dbInstance.Tags = tagdata.TagList; rdsData.push(dbInstance); tagCallback(); }); }, () =&gt; { callback(); }); } else { callback(); } }); }, () =&gt; { if (rdsData.length) res.json(rdsData); else res.json('No rds data'); }); }; /** * Route for terminating RDS database by id. * @param {object} req - The request. * @param {object} res - The response. * @param {req.query} region - The region of instance. * @param {req.query} id - The id of instance. * @returns {object} - Message that database is terminated. */ module.exports.terminateById = (req, res) =&gt; { const RDS = new AWS.RDS({ apiVersion: '2014-10-31', region: req.query.region, }); RDS.deleteDBInstance({ DBInstanceIdentifier: req.query.id, SkipFinalSnapshot: true, }, (err, data) =&gt; { if (err) res.json(err); else { LOGGER.info(`${data.DBInstance.DBInstanceIdentifier} terminated`); res.json(`${data.DBInstance.DBInstanceIdentifier} terminated`); } }); }; × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Modules × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController CleanCloudNode Setup Run npm install to install the project dependencies Development Servers Run npm run dev to run the Angular server and Node.js server Port 4200 Production Server Run npm start Port 3000 × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-AnalyticsController.html":{"id":"module-AnalyticsController.html","title":"Module: AnalyticsController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: AnalyticsController Source: analytics.js, line 1 Methods &lt;static&gt; analyzeById(req, res, region, id) Route for analyzing CPU Utilizaton of EC2 instances by id. Parameters: Name Type Description req object The request. res object The response. region req.query The region of instance. id req.query The id of instance. Source: analytics.js, line 16 Returns: - CPU Utilization CloudWatch metrics of instance. Type object × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-AuthenticationController.html":{"id":"module-AuthenticationController.html","title":"Module: AuthenticationController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: AuthenticationController Source: auth.js, line 1 Methods &lt;static&gt; login(req, res) Route for logging in user using Passport. Parameters: Name Type Description req object The request. res object The response. Source: auth.js, line 32 Returns: - JWT token. Type object &lt;static&gt; profileRead(req, res, _id) Route for authorizing profile viewing. Parameters: Name Type Description req object The request. res object The response. _id req.payload The id of the user. Source: auth.js, line 59 Returns: - Information of the user. Type object &lt;static&gt; register(req, res, user) Route for registering new user. Parameters: Name Type Description req object The request. res object The response. user req.body The information of the new user. Source: auth.js, line 12 Returns: - Message that new user is created. Type object &lt;static&gt; validateEmail(req, res, id) Route for checking if email is taken. Parameters: Name Type Description req object The request. res object The response. id req.params The email attempting to be registerd. Source: auth.js, line 99 Returns: - Whether email is found or not. Type boolean &lt;static&gt; validateUsername(req, res, id) Route for checking if username is taken. Parameters: Name Type Description req object The request. res object The response. id req.params The username attempting to be registerd. Source: auth.js, line 79 Returns: - Whether username is found or not. Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-ClusterController.html":{"id":"module-ClusterController.html","title":"Module: ClusterController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: ClusterController Source: cluster.js, line 1 Methods &lt;static&gt; addClusterMonitor(req, res) Adds monitor tag from cluster after it has been opted in. Parameters: Name Type Description req object The request. res object The response. Source: cluster.js, line 103 Returns: - Message that monitor has been added. Type object &lt;static&gt; cleanClusterDB() Removes clusters no longer in AWS from DB. Source: cluster.js, line 119 &lt;static&gt; getClusters(req, res) Route for getting all clusters. Parameters: Name Type Description req object The request. res object The response. Source: cluster.js, line 71 Returns: - All clusters. Type object &lt;static&gt; markClustersFromEmail(ids) Finds and marks cluster from ids parsed from email. Parameters: Name Type Description ids array Ids parsed from email. Source: cluster.js, line 51 &lt;static&gt; removeClusterMonitor(req, res) Route for removing monitor tag from cluster after it has been opted out. Parameters: Name Type Description req object The request. res object The response. Source: cluster.js, line 84 Returns: - Message that monitor has been removed. Type object &lt;static&gt; setClusterDB() Adds clusters in AWS that are not in the DB. Source: cluster.js, line 157 &lt;inner&gt; markCluster(cluster) Marks cluster for destruction, schedules destruction, and notifies owner via email. Parameters: Name Type Description cluster object The cluster to be marked. Source: cluster.js, line 19 × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-EC2Controller.html":{"id":"module-EC2Controller.html","title":"Module: EC2Controller","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: EC2Controller Source: ec2.js, line 1 Methods &lt;static&gt; describe(req, res) Route for describing EC2 instances. Parameters: Name Type Description req object The request. res object The response. Source: ec2.js, line 16 Returns: - All EC2 data. Type object &lt;static&gt; getClusterNames(req, res) Route for getting all cluster names. Parameters: Name Type Description req object The request. res object The response. Source: ec2.js, line 104 Returns: - All cluster names. Type object &lt;static&gt; getContextById(req, res) Route for getting cluster data by its Context tag. Parameters: Name Type Description req object The request. res object The response. Source: ec2.js, line 75 Returns: - Cluster data matching Context tag. Type object &lt;static&gt; terminateById(req, res, region, id) Route for terminating EC2 instances by id. Parameters: Name Type Description req object The request. res object The response. region req.query The region of instance id req.query The id of instance. Source: ec2.js, line 46 Returns: - Message that instance is terminated. Type object × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-EFSController.html":{"id":"module-EFSController.html","title":"Module: EFSController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: EFSController Source: efs.js, line 1 Methods &lt;static&gt; describe(req, res) Route for describing EFS file systems. Parameters: Name Type Description req object The request. res object The response. Source: efs.js, line 16 Returns: - All EFS data. Type object &lt;static&gt; terminateById(req, res, region, id) Route for terminating EFS file systems by id. Parameters: Name Type Description req object The request. res object The response. region req.query The region of instance id req.query The id of instance. Source: efs.js, line 60 Returns: - Message that file system is terminated. Type object × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-EmailController.html":{"id":"module-EmailController.html","title":"Module: EmailController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: EmailController Source: email.js, line 1 Methods &lt;static&gt; emailStartedBy(clusterName, startedBy, message) Sends email to resource owner. Parameters: Name Type Description clusterName string The name of the cluster. startedBy string The initials of the resource owner. message string The message for the resource owner. Source: email.js, line 54 &lt;static&gt; startMonitor() Starts email listener. Source: email.js, line 44 &lt;inner&gt; openInbox(callback) Opens email inbox. Parameters: Name Type Description callback function The callback after inbox is opened. Source: email.js, line 37 × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-JanitorController.html":{"id":"module-JanitorController.html","title":"Module: JanitorController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: JanitorController Source: janitor.js, line 1 Methods &lt;static&gt; destroyById(req, res, id) Route for destroying Janitor by id. Parameters: Name Type Description req object The request. res object The response. id req.params The id of Janitor. Source: janitor.js, line 83 Returns: - Message that Janitor is destroyed. Type object &lt;static&gt; getJanitors(req, res) Route for getting all Janitors. Parameters: Name Type Description req object The request. res object The response. Source: janitor.js, line 121 Returns: - All Janitors. Type object &lt;static&gt; isJanitorRunning() Gets state of the Janitor. Source: janitor.js, line 132 Returns: - Janitor running state. Type boolean &lt;static&gt; isJanitorRunningRoute(req, res) Route for getting state of the Janitor. Parameters: Name Type Description req object The request. res object The response. Source: janitor.js, line 140 Returns: - Janitor running state. Type boolean &lt;static&gt; run(req, res, janitorConfig) Route for running the Simian Army Janitor Monkey Docker image. Parameters: Name Type Description req object The request. res object The response. janitorConfig req.body The Janitor configuration settings. Source: janitor.js, line 36 Returns: - Message that Janitor is created. Type object &lt;inner&gt; createJanitor(janitorConfig) Creates new Janitor instance in DB. Parameters: Name Type Description janitorConfig object The Janitor configuration settings. Source: janitor.js, line 17 × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-JenkinsController.html":{"id":"module-JenkinsController.html","title":"Module: JenkinsController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: JenkinsController Source: jenkins.js, line 1 Methods &lt;static&gt; destroy(req, res, id) Route for triggering Jenkins Destroy_Cluster job. Parameters: Name Type Description req object The request. res object The response. id req.params The cluster name. Source: jenkins.js, line 48 Returns: - Message that cluster is destroyed using Jenkins. Type object &lt;inner&gt; destroyByName(name) Triggers Jenkins Destroy_Cluster job using cluster name. Parameters: Name Type Description name string The name of the cluster. Source: jenkins.js, line 17 Returns: - Success of cluster destruction. Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-JobsController.html":{"id":"module-JobsController.html","title":"Module: JobsController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: JobsController Source: job.js, line 1 Methods &lt;static&gt; cancelJob(req, res, id) Route for canceling scheduled job. Parameters: Name Type Description req object The request. res object The response. id req.params The cluster name. Source: job.js, line 22 Returns: - Message that job is canceled. Type object &lt;static&gt; scheduleJob(name, startedBy) Schedules job for cluster destruction and notifying resource owner. Parameters: Name Type Description name string The name of the cluster. startedBy string The initials of the resource owner. Source: job.js, line 41 &lt;static&gt; setJobs() Reschedules jobs in the event the server goes down. Source: job.js, line 63 × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-PriceController.html":{"id":"module-PriceController.html","title":"Module: PriceController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: PriceController Source: price.js, line 1 Methods &lt;static&gt; getEc2Price(req, res, region, type) Route for getting the price of an EC2 instance. Parameters: Name Type Description req object The request. res object The response. region req.body The region of the instance. type req.body The type or class of the instance. Source: price.js, line 29 Returns: - Hourly price of the instance. Type number &lt;static&gt; getRdsPrice(req, res, region, type, DB) Route for getting the price of an RDS instance. Parameters: Name Type Description req object The request. res object The response. region req.body The region of the instance. type req.body The type or class of the instance. DB req.body The database engine of the instance. Source: price.js, line 48 Returns: - Hourly price of the instance. Type number &lt;inner&gt; getRegion(region) Gets region abbreviation of resource. Parameters: Name Type Description region string The region of the instance. Source: price.js, line 11 Returns: - Region abbreviation of resource. × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "},"module-RDSController.html":{"id":"module-RDSController.html","title":"Module: RDSController","body":" CleanCloud Controller Docs Modules AnalyticsControllerAuthenticationControllerClusterControllerEC2ControllerEFSControllerEmailControllerJanitorControllerJenkinsControllerJobsControllerPriceControllerRDSController Module: RDSController Source: rds.js, line 1 Methods &lt;static&gt; describe(req, res) Route for describing RDS databases. Parameters: Name Type Description req object The request. res object The response. Source: rds.js, line 16 Returns: - All RDS data. Type object &lt;static&gt; terminateById(req, res, region, id) Route for terminating RDS database by id. Parameters: Name Type Description req object The request. res object The response. region req.query The region of instance. id req.query The id of instance. Source: rds.js, line 57 Returns: - Message that database is terminated. Type object × Search results Close Documentation generated by JSDoc 3.5.5 on 4/21/18 8:35 PM using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
